See [[6. Branch Target Buffers]] for prerequisite knowledge. 
# Branch Folding 
In the Branch Target Buffer (BTB), we can store the branch target address along with one more more instructions at the target location. The instruction can then be delivered to the ID stage the following cycle. 

This allows for zero-cycle unconditional branches, and sometimes zero-cycle taken branches. If the branch is forwarded, target address is stored in the BTB, adn adjusted to be right after the target instructions. 

# Return Prediction
A special type of branch prediction buffer, built for return instructions called the return address stack (RAS). 

return instructions are a problem because the occur so frequently, and return addresses are inconsistent. Consider the following example

while (...) {
	foo();
	foo();
}

This will result in a miss everytime, because alternating locations are visited each time foo is called. 

*Solution*: Use a circular buffer of return often called called the RAS. On each function call, the target of the return is pushed to the RAS, when it returns, it will use the value on top of the RAS as the predicted branch target. Its just a return stack. 

return prediction use a stack with 0 to 16 elements, was gets good accuracy, with about 5% misprediction if the return address stack has at least 8 or 16 entries. 